<!DOCTYPE HTML>
<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
       integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
       crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
       integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
       crossorigin=""></script>
    <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"-->
    <link rel="stylesheet" href="resources/bootstrap.min.css">
    <link rel="stylesheet" href="resources/leaflet.fullscreen.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="resources/city.png">
    <title>City Simulator</title>
</head>

<body>
<h2>City Simulator</h2>
<div id="desc">This is a city simulator that simulates a city ecosystem to showcase how digital identity could apply in various scenarios. <br>
    You can customize the number of residents(healthy or infected), vehicles, police cars, trucks and ambulances in the simulation. <br>
    The scenarios include the spreading of pandemic, accidents, speedings and travelling of buses. </div>
</div>
<br>
<div id="main">
    <div class="row">
        <div class="block">
            <div style="font-size: 20px;font-family: 'Lucida Bright'">Blockchain Log</div>
            <br>
            All changes to blockchain are logged here.
        </div>
        <div class="block">
            <div style="font-size: 20px;font-family: 'Lucida Bright'">Map Display</div>
            <div id="clock">0</div>
        </div>
        <div class="block">
            <div style="font-size: 20px;font-family: 'Lucida Bright';margin-right: 100px">Events</div>
            <br>
            <div style="margin-right: 70px">All map events are logged here.</div>
        </div>
    </div>
    <br>
    <div id="blockchain"></div>
    <div id="demo_map"></div>
    <div id="traffic">
        <div id="traffic_nav" class="sidenav">
            <a onclick="showArrivals()">Car Arrivals</a>
            <a onclick="showExchanges()">Exchanges</a>
            <a onclick="showSpeedings()">Speedings</a>
            <a onclick="showPolice()">Police Events</a>
            <a onclick="showAccidents()">Accidents</a>
            <a onclick="showJams()">Traffic Jams</a>
            <a onclick="showGarage()">Garage</a>
            <a onclick="showBuses()">Bus</a>
            <a onclick="showResidents()">Residents</a>
            <a onclick="showHospital()">Hospital</a>
        </div>
        <div id="traffic-main"></div>
    </div>

    <br>
    <br>
    <div>Control Panel</div>
    <div class="panel">
        Number of healthy residents: <input type="number" id="num_of_healthy_residents" min="0" value="5">
        Number of infected residents: <input type="number" id="num_of_infected_residents" min="0" value="5">
        Number of vehicles: <input type="number" id="num_of_vehicles" min="0" value="5">
        <br><br>
        Number of police cars: <input type="number" id="num_of_police" min="0" value="1">
        Number of tow trucks: <input type="number" id="num_of_tow" min="0" value="1">
        Number of ambulances: <input type="number" id="num_of_ambulance" min="0" value="1">
        <br><br>
        <button type="Button" class="btn btn-primary" id="start" onclick="start_sim_city()">Start</button>
        <button type="Button" class="btn btn-primary" id="stop" onclick="stop_sim()">Stop</button>
        <button type="Button" class="btn btn-primary" id="resume" onclick="resume_sim()">Resume</button>
        <button type="Button" class="btn btn-primary" id="reset" onclick="reset_sim_city()">Reset</button>
    </div>
    <br>
    <div>Statistics</div>
    <div class="panel">
        Healthy Residents: <span id="healthy_residents" style="color: blue">0</span>
        Infected Residents: <span id="infected_residents" style="color: red">0</span>
        Quarantined Residents: <span id="quarantined_residents" style="color: orange">0</span>
        Recovered Residents: <span id="recovered_residents" style="color: green">0</span>
    </div>
    <br>
    <div>Search on blockchain</div>
    <div class="panel">
        <div class="input-group mb-3" id="search_div" style="width: 50%; margin:auto">
          <input type="text" id="searchbar" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="button-addon2">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="button" id="submit_btn" style="margin-left: 10px"
                    onclick="search()"><img src="resources/search.png"></button>
          </div>
        </div>
        <form>
          <fieldset class="radioGroup">
              <label><input type="radio" name="typeSearch" value="resident" checked>Resident</label>
              <label><input type="radio" name="typeSearch" value="vehicle">Vehicle</label>
              <label><input type="radio" name="typeSearch" value="accident">Accident</label>
              <label><input type="radio" name="typeSearch" value="hospital">Hospital</label>
          </fieldset>
        </form>
        <div id="loader"></div>
        <div id="not_found" style="display: none">Not Found!</div>
        <!--Search result-->
        <div class="container-fluid" id="search_full">
            <button type="button" class="btn btn-primary" id="vc_button" onclick="showVC(0)">Show Mileage VC</button>
            <button type="button" class="btn btn-primary" id="verify_button" onclick="verifyVC(0)">Verify Mileage VC</button>
            <button type="button" class="btn btn-primary" id="vc_button_2" onclick="showVC(1)">Show Fine VC</button>
            <button type="button" class="btn btn-primary" id="verify_button_2" onclick="verifyVC(1)">Verify Fine VC</button>
            <button type="button" class="btn btn-primary" id="vc_button_3" onclick="showVC(2)">Show Immune VC</button>
            <button type="button" class="btn btn-primary" id="verify_button_3" onclick="verifyVC(2)">Verify Immune VC</button>
            <br><br>
            <div class="row">
                <div class="col-sm-6" id="profile">
                  <!-- The profile table -->
                  <table id="profileTable" class="table table-striped">
                  </table>
                </div>
                <div class="col-sm-6" id ="history">
                  <!-- The history table -->
                  <div id="event_desc">Recent Accidents</div>
                  <table id ="search_res" class ="table table-striped">
                  </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!--<script src="js/test.js"></script>-->
<!--<script src="js/test_streets_data.js"></script>-->
<!--<script src="js/test_units_data.js"></script>-->
<script src="js/sanhe.js"></script>
<script src="js/sanhe_streets_data.js"></script>
<script src="js/sanhe_units_data.js"></script>
<script src="js/agentmaps.js"></script>
<script src="js/spritegents.js"></script>
<script src="js/axios.min.js"></script>
<script src="js/Leaflet.fullscreen.min.js"></script>
<script src="city_simulator.js"></script>
<script src="icons.js"></script>
<script src="city_connector.js"></script>
<script src="interface.js"></script>
<script src="events.js"></script>
<script src="utils.js"></script>
</body>

</html>